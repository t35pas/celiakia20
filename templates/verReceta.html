{% extends 'indexVistaReceta.html' %}

{% block contentMain %}

    <!-- Post -->
    <article class="post">
        <span class="image featured"><img src="{{url_for('ObtenerImagen', nombre=receta.nombre_imagen)}}" alt="" /></span>
        <header>
            <div class="title">
                <h2><a href="#">{{receta.titulo}}</a></h2>
                {% if favorito %} 
                    <ul class="stats">
                        <li><a href="#">Dificultad {{receta.dificultad.descripcion}}</a></li>
                        <li><a href="#" class="icon solid fa-clock"> {{ receta.tiempoPreparacion(receta.id)}} minutos</a></li>
                        <li><a href="{{url_for('EliminarFavorita', idReceta = receta.id)}}"
                            class="icon solid fa-heart">Favorito</a></li>
                    </ul>
                {% else %} 
                    <ul class="stats">
                        <li><a href="#">Dificultad {{receta.dificultad.descripcion}}</a></li>
                        <li><a href="#" class="icon solid fa-clock"> {{ receta.tiempoPreparacion(receta.id)}} minutos</a></li>
                        <li><a  href="{{url_for('AgregarFavorita', idReceta = receta.id)}}" 
                            class="icon fa-heart">Agregar a Favoritos</a></li>
                    </ul>
                {% endif %}
            </div>
        </header>
        
        <!-- Mini Posts -->
        <section>
            <h3>Ingredientes</h3>
            <ul class="posts">
                {% for ixr in receta.ingrediente %}
                    <li>
                        <article>
                            <header>
                                <h3><a href="single.html">{{ixr.ingredientes.descripcion}}</a></h3>
                                <time class="published"> Cantidad necesaria: {{ixr.cantidad}} {{ixr.unidad.descripcion}}</time>
                            </header>
                            <a href="#" class="image">
                                <img style="width:64px; height:64px;" src="{{url_for('ObtenerImagen', nombre=ixr.ingredientes.nombre_imagen)}}" alt="" />
                            </a>
                        </article>
                    </li>
                {% endfor %}
            </ul>
        </section>
        <section>
            <h3>Preparación</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Orden</th>
                            <th>Descripción</th>
                            <th></th>
                        </tr>
                    </thead>
                    
                    <tbody>
                        {% for paso in receta.preparacion %}
                            <tr>
                                <td lang="es"> {{ paso.orden_del_paso}}</td>
                                <td id="reproducirDescripcion" lang="es"> {{ paso.descripcion}}</td>
                                <td>
                                    <a onclick="responsiveVoice.speak('{{paso.descripcion}}','Spanish Latin American Female');"
                                    class="icon solid fa-play" value="Reproducir">
                                    </a>  
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </section>

        <footer>
            <ul class="stats">
                <li><a href="#">General</a></li>
                <li><a href="#" class="icon solid fa-heart">28</a></li>
            </ul>
        </footer>
    </article>

{% endblock %}


